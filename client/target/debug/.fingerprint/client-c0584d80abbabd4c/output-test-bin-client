{"$message_type":"diagnostic","message":"unused imports: `Arc`, `AtomicBool`, `Ordering`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":117,"byte_end":127,"line_start":6,"line_end":6,"column_start":18,"column_end":28,"is_primary":true,"text":[{"text":"        atomic::{AtomicBool, Ordering},","highlight_start":18,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":129,"byte_end":137,"line_start":6,"line_end":6,"column_start":30,"column_end":38,"is_primary":true,"text":[{"text":"        atomic::{AtomicBool, Ordering},","highlight_start":30,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":148,"byte_end":151,"line_start":7,"line_end":7,"column_start":9,"column_end":12,"is_primary":true,"text":[{"text":"        Arc","highlight_start":9,"highlight_end":12}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove the unused imports","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":86,"byte_end":157,"line_start":4,"line_end":8,"column_start":31,"column_end":6,"is_primary":true,"text":[{"text":"    net::{Shutdown, TcpStream},","highlight_start":31,"highlight_end":32},{"text":"    sync::{","highlight_start":1,"highlight_end":12},{"text":"        atomic::{AtomicBool, Ordering},","highlight_start":1,"highlight_end":40},{"text":"        Arc","highlight_start":1,"highlight_end":12},{"text":"    },","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;11mwarning\u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15m: unused imports: `Arc`, `AtomicBool`, `Ordering`\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m--> \u001b[0m\u001b[0msrc/main.rs:6:18\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        atomic::{AtomicBool, Ordering},\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m| \u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;11m^^^^^^^^^^\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;11m^^^^^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Arc\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m| \u001b[0m\u001b[0m        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;11m^^^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m= \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15mnote\u001b[0m\u001b[0m: `#[warn(unused_imports)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"failed to resolve: use of undeclared crate or module `ctrlc`","code":{"code":"E0433","explanation":"An undeclared crate, module, or type was used.\n\nErroneous code example:\n\n```compile_fail,E0433\nlet map = HashMap::new();\n// error: failed to resolve: use of undeclared type `HashMap`\n```\n\nPlease verify you didn't misspell the type/module's name or that you didn't\nforget to import it:\n\n```\nuse std::collections::HashMap; // HashMap has been imported.\nlet map: HashMap<u32, u32> = HashMap::new(); // So it can be used!\n```\n\nIf you've expected to use a crate name:\n\n```compile_fail\nuse ferris_wheel::BigO;\n// error: failed to resolve: use of undeclared crate or module `ferris_wheel`\n```\n\nMake sure the crate has been added as a dependency in `Cargo.toml`.\n\nTo use a module from your current crate, add the `crate::` prefix to the path.\n"},"level":"error","spans":[{"file_name":"src/main.rs","byte_start":1994,"byte_end":1999,"line_start":68,"line_end":68,"column_start":5,"column_end":10,"is_primary":true,"text":[{"text":"    ctrlc::set_handler(move || {","highlight_start":5,"highlight_end":10}],"label":"use of undeclared crate or module `ctrlc`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0433]\u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15m: failed to resolve: use of undeclared crate or module `ctrlc`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m--> \u001b[0m\u001b[0msrc/main.rs:68:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m68\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    ctrlc::set_handler(move || {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m| \u001b[0m\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9muse of undeclared crate or module `ctrlc`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unreachable statement","code":{"code":"unreachable_code","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":5467,"byte_end":5525,"line_start":163,"line_end":163,"column_start":5,"column_end":63,"is_primary":true,"text":[{"text":"    stream.shutdown(Shutdown::Both).expect(\"Shutdown failed\");","highlight_start":5,"highlight_end":63}],"label":"unreachable statement","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":3431,"byte_end":5460,"line_start":116,"line_end":160,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    loop {","highlight_start":5,"highlight_end":11},{"text":"        loop {","highlight_start":1,"highlight_end":15},{"text":"            let mut queeue = update_queeue(input_path, &downloadable_files)?;","highlight_start":1,"highlight_end":78},{"text":"            dbg!(&queeue);","highlight_start":1,"highlight_end":27},{"text":"            if queeue.is_empty() {","highlight_start":1,"highlight_end":35},{"text":"                break;","highlight_start":1,"highlight_end":23},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"    ","highlight_start":1,"highlight_end":5},{"text":"            // Xử lý các file trong queeue nếu không trống","highlight_start":1,"highlight_end":59},{"text":"            while !queeue.is_empty() {","highlight_start":1,"highlight_end":39},{"text":"                let filename = queeue.remove(0);","highlight_start":1,"highlight_end":49},{"text":"    ","highlight_start":1,"highlight_end":5},{"text":"                // Kiểm tra xem file đã tải chưa","highlight_start":1,"highlight_end":49},{"text":"                if let Some(file) = downloadable_files.iter_mut().find(|f| f.file.as_ref().trim() == filename.as_ref().trim() && !f.done) {","highlight_start":1,"highlight_end":140},{"text":"                    stream.write_all(&(filename.len() as usize).to_be_bytes())?;","highlight_start":1,"highlight_end":81},{"text":"                    stream.write_all(filename.as_bytes())?;","highlight_start":1,"highlight_end":60},{"text":"    ","highlight_start":1,"highlight_end":5},{"text":"                    // Tạo đường dẫn file đầu ra","highlight_start":1,"highlight_end":49},{"text":"                    let output_file_path = format!(\"{}{}\", output_path, filename);","highlight_start":1,"highlight_end":83},{"text":"                    let mut output_file = File::create(output_file_path)?;","highlight_start":1,"highlight_end":75},{"text":"    ","highlight_start":1,"highlight_end":5},{"text":"                    let mut progress: usize = 0;","highlight_start":1,"highlight_end":49},{"text":"                    let max_size = match file_list.iter().find(|file| file.0 == filename) {","highlight_start":1,"highlight_end":92},{"text":"                        Some(file) => file.1,","highlight_start":1,"highlight_end":46},{"text":"                        None => {","highlight_start":1,"highlight_end":34},{"text":"                            eprintln!(\"File not found in the file list: {}\", filename);","highlight_start":1,"highlight_end":88},{"text":"                            continue; // Hoặc break, tùy thuộc vào ngữ cảnh","highlight_start":1,"highlight_end":76},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"    ","highlight_start":1,"highlight_end":5},{"text":"                    // Nhận dữ liệu từ server và ghi vào file","highlight_start":1,"highlight_end":62},{"text":"                    loop {","highlight_start":1,"highlight_end":27},{"text":"                        let chunk = Chunk::recieve(&mut stream)?;","highlight_start":1,"highlight_end":66},{"text":"                        progress += chunk.len;","highlight_start":1,"highlight_end":47},{"text":"                        if chunk.write(&mut output_file)? {","highlight_start":1,"highlight_end":60},{"text":"                            println!(\"Finshed downloading [{}]\", filename);","highlight_start":1,"highlight_end":76},{"text":"                            file.done = true;","highlight_start":1,"highlight_end":46},{"text":"                            break;","highlight_start":1,"highlight_end":35},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                        print!(\"\\rDownloading {} ..... {}%. \", filename, progress * 100 / max_size as usize);","highlight_start":1,"highlight_end":110},{"text":"                    }                ","highlight_start":1,"highlight_end":38},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"any code following this expression is unreachable","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unreachable_code)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;11mwarning\u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15m: unreachable statement\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m--> \u001b[0m\u001b[0msrc/main.rs:163:5\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m116\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    loop {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m117\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        loop {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m118\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            let mut queeue = update_queeue(input_path, &downloadable_files)?;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m119\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            dbg!(&queeue);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m159\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m160\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14many code following this expression is unreachable\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m...\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14m163\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m    stream.shutdown(Shutdown::Both).expect(\"Shutdown failed\");\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m| \u001b[0m\u001b[0m      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;11m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;11munreachable statement\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m= \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15mnote\u001b[0m\u001b[0m: `#[warn(unreachable_code)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error; 2 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m\u001b[38;5;15m: aborting due to 1 previous error; 2 warnings emitted\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"For more information about this error, try `rustc --explain E0433`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;15mFor more information about this error, try `rustc --explain E0433`.\u001b[0m\n"}
